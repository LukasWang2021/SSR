/**********************************************
Copyright Â© 2016 Foresight-Robotics Ltd. All rights reserved.
File:       mapping_test.cpp
Author:     Feng.Wu 
Create:     15-Obt-2018
Modify:     15-Obt-2018
Summary:    test process
**********************************************/
#ifndef IO_MAPPING_MAPPING_TEST_CPP_
#define IO_MAPPING_MAPPING_TEST_CPP_

#include "io_mapping.h"
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <iostream>
/*
typedef union MapID
{
    uint32_t number;
    struct{
        char port:8;
        char port_type:8;
        char address:8;
        char dev_type:8;
    }info;
}MapID;
*/

int main(int argc, char** argv)
{  
    fst_ctrl::IoMapping map;
    map.init();

    //std::string str = map.getIOPathByName("DI[1]");
    //std::cout<<"test string = "<<str<<std::endl;
   
    int map_id = map.getIOPhysicsID("DI[1]");
    printf("test id = 0x%x\n",map_id);

    PhysicsID id;
    id.info.port=8;
    id.info.port_type = 1;
    id.info.address = 3;
    id.info.dev_type =2;
    printf("map id1 = 0x%x\n", id.number);

    id.info.port = 9;
    printf("map id2 = 0x%x\n", id.number);
   
    id.number = 123456;
    printf("id.info.port=%d, porttype=%d,slot=%d, devtype=%d\n",id.info.port,id.info.port_type,id.info.address, id.info.dev_type);
    
    

    return 0;
}


#endif 
